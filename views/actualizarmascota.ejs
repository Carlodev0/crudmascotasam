<%- include('template/header', {tituloWeb: 'actualizar mascota'}); %>

<div class="container">
    <h1>Actualizar Servicio</h1>
    <a href="/mascotas" class="btn btn-dark my-2">volver</a>
    <form action="/mascotas" method="post">
        
        <input class="form-control my-2" type="text" name="nombre" id="nombre" placeholder="Actualiza la mascota">
        <input class="form-control my-2" type="text" name="descripcion" id="descripcion" placeholder="Actualiza el detalle">
        
        <div class="d-grid">
            <button class="btn btn-info" type="submit">Actualizar</button>
           
          </div>
        
       
        
    </form>
</div>
<script>
    
    const btnActualizar = document.querySelector('#btnActualizar');
    btnActualizar.addEventListener('click', async () =>{
     // console.log('me diste click');
    const id = btnActualizar.dataset.id;
    console.log(id);
    try{
      const data = await fetch(`/mascotas/${id}` , {method: 'update'});
      const respuesta = await data.json();
      //console.log(respuesta); 
      if (respuesta) {
        window.location.href = '/mascotas';
      } else {
        console.log('respuesta');
      }
    }
    catch(error){
      console.log('error')

    }

    })

